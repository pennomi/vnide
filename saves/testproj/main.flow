{   "author": "Thane Brimhall",
    "nodes": [
        {   "nid": "0",
            "type": "root",
            "x": 0,
            "y": 200,
            "exitConditions": [
                { "nextNode": "1" }
            ]
        },
        {   "nid": "1",
            "type": "scene",
            "x": 120,
            "y": 200,
            "exitConditions": [
                { "nextNode": "2" }
            ],
            "sprites": [
                { "startX": -0.5,
                  "startY": 0,
                  "endX": 0.5,
                  "endY": 0,
                  "filename": "elf.png"
                },
                { "startX": 0.5,
                  "startY": 0,
                  "endX": 1.5,
                  "endY": 0,
                  "filename": "dwarf.png"
                }
            ],
            "backgroundSprite": {
                "startX": 0,
                "startY": 0,
                "endX": 300,
                "endY": 0,
                "filename": "Tavern1600x1200_0.png"
            }
        },
        {   "nid": "2",
            "type": "dialog",
            "x": 240,
            "y": 200,
            "filename": "elf.png",
            "text": "Let us fight!",
            "exitConditions": [
                { "nextNode": "3" }
            ]
        },
        {   "nid": "3",
            "type": "choice",
            "x": 360,
            "y": 200,
            "exitConditions": [
                {
                    "nextNode": "4",
                    "condition": "player.fighter",
                    "text": "Fight!"
                },
                {
                    "nextNode": "5",
                    "condition": "player.runner",
                    "text": "Run Away!"
                },
                {
                    "nextNode": "6",
                    "condition": "",
                    "text": "Drop dead."
                }
            ]
        },
        {   "nid": "4",
            "type": "macro",
            "x": 480,
            "y": 100,
            "filename": "battle.flow",
            "exitConditions": [
                { "nextNode": "7" }
            ]
        },
        {   "nid": "5",
            "type": "script",
            "text": "campaign['foo'] = 'bar';\ncampaign[\"bob\"][\"hp\"] -= 1;",
            "x": 480,
            "y": 200,
            "exitConditions": [
                { "nextNode": "8" }
            ]
        },
        {   "nid": "6",
            "type": "end",
            "dataType": "exception",
            "x": 480,
            "y": 300
        },
        {   "nid": "7",
            "type": "dialog",
            "x": 600,
            "y": 100,
            "filename": "dwarf.png",
            "text": "Very well. Graaaah!",
            "exitConditions": [
                { "nextNode": "9" }
            ]
        },
        {   "nid": "8",
            "type": "dialog",
            "x": 600,
            "y": 200,
            "filename": "elf.png",
            "text": "You're running away? Coward!",
            "exitConditions": [
                { "nextNode": "9" }
            ]
        },
        {   "nid": "9",
            "type": "scene",
            "x": 720,
            "y": 200,
            "exitConditions": [
                { "nextNode": "10" }
            ],
            "sprites": [ ]
        },
        {   "nid": "10",
            "type": "router",
            "x": 840,
            "y": 200,
            "exitConditions": [
                {
                    "nextNode": "11",
                    "condition": "player.fighter"
                },
                {
                    "nextNode": "12",
                    "condition": "player.runner"
                }
            ]
        },
        {   "nid": "11",
            "type": "dialog",
            "x": 960,
            "y": 150,
            "filename": "dwarf.png",
            "text": "And that's how I got this scar.",
            "exitConditions": [
                { "nextNode": "13" }
            ]
        },
        {   "nid": "12",
            "type": "dialog",
            "x": 960,
            "y": 250,
            "filename": "dwarf.png",
            "text": "And so I lived to see another day.",
            "exitConditions": [
                { "nextNode": "13" }
            ]
        },
        {   "nid": "13",
            "type": "dialog",
            "x": 1080,
            "y": 200,
            "filename": "",
            "text": "The End",
            "exitConditions": [
                { "nextNode": "14" }
            ]
        },
        {   "nid": "14",
            "type": "end",
            "dataType": "stop",
            "x": 1200,
            "y": 200
        }
    ]
}